<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Examen sobre los personajes</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        /* Estilos para ocultar inicialmente */
        .hidden {
            display: none;
        }
    </style>
</head>
<body class="bg-orange-100 min-h-screen flex items-center justify-center p-4">
    <div class="container mx-auto max-w-4xl p-8 bg-white shadow-xl rounded-2xl border border-gray-200">
        <header class="text-center mb-10">
            <h1 class="text-4xl md:text-5xl font-extrabold text-orange-900 mb-2">Examen sobre los personajes</h1>
            <p class="text-lg text-gray-700">Creado por Miguelangel Tisera</p>
        </header>

        <form id="infoForm" class="mb-8 p-6 bg-orange-50 rounded-lg shadow-inner">
            <h2 class="text-2xl font-bold text-orange-800 mb-4">Información del Alumno</h2>
            <div class="grid md:grid-cols-2 gap-6">
                <div>
                    <label for="studentName" class="block text-sm font-medium text-gray-700 mb-1">Nombre Completo del Alumno</label>
                    <input type="text" id="studentName" required class="w-full p-3 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500 transition duration-150 ease-in-out" placeholder="Escribe tu nombre">
                </div>
                <div>
                    <label for="institutionalEmail" class="block text-sm font-medium text-gray-700 mb-1">Correo Institucional (@unihumboldt.edu.ve)</label>
                    <input type="email" id="institutionalEmail" required pattern="[a-zA-Z0-9._%+-]+@unihumboldt\.edu\.ve" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500 transition duration-150 ease-in-out" placeholder="tu.nombre@unihumboldt.edu.ve">
                </div>
            </div>
            <div class="mt-6">
                <label for="courseSubject" class="block text-sm font-medium text-gray-700 mb-1">Materia que Cursas</label>
                <input type="text" id="courseSubject" required class="w-full p-3 border border-gray-300 rounded-lg focus:ring-orange-500 focus:border-orange-500 transition duration-150 ease-in-out" placeholder="Ej. Guionismo, Estructura Narrativa">
            </div>
            <p id="infoError" class="mt-4 text-red-600 font-semibold hidden">Por favor, completa todos los campos correctamente antes de continuar.</p>
        </form>

        <form id="examForm" class="mb-8">
            <div id="questionsContainer" class="space-y-8">
                </div>
            <div class="flex justify-center mt-10">
                <button type="submit" id="submitBtn" class="bg-orange-600 text-white font-bold py-3 px-8 rounded-full shadow-lg hover:bg-orange-700 transition duration-300 ease-in-out transform hover:scale-105">
                    Enviar y Ver Resultados
                </button>
            </div>
        </form>

        <div id="resultsContainer" class="hidden mt-10 p-8 bg-green-50 rounded-2xl shadow-inner text-center">
            <h2 class="text-3xl md:text-4xl font-extrabold text-green-800 mb-4">¡Examen Completado!</h2>
            <p class="text-lg text-gray-700 mb-2">Gracias por completar el examen.</p>
            <p id="scoreMessage" class="text-2xl font-bold text-green-900 mb-4"></p>
            <p id="emailStatus" class="text-gray-600 italic"></p>
        </div>

        <div id="confirmationModal" class="hidden fixed inset-0 bg-gray-900 bg-opacity-75 flex items-center justify-center p-4">
            <div class="bg-white p-8 rounded-xl shadow-2xl text-center max-w-sm">
                <h3 class="text-2xl font-bold text-orange-900 mb-4">¡Examen Enviado!</h3>
                <p class="text-gray-700 mb-6">Tus resultados han sido enviados a <span class="font-semibold" id="confirmEmail"></span> para su revisión. Te deseamos mucho éxito.</p>
                <button id="closeModalBtn" class="bg-orange-600 text-white font-bold py-2 px-6 rounded-full hover:bg-orange-700 transition">Entendido</button>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const infoForm = document.getElementById('infoForm');
            const examForm = document.getElementById('examForm');
            const questionsContainer = document.getElementById('questionsContainer');
            const resultsContainer = document.getElementById('resultsContainer');
            const infoError = document.getElementById('infoError');
            const submitBtn = document.getElementById('submitBtn');
            const confirmationModal = document.getElementById('confirmationModal');
            const closeModalBtn = document.getElementById('closeModalBtn');
            const confirmEmail = document.getElementById('confirmEmail');
            const scoreMessage = document.getElementById('scoreMessage');
            const emailStatus = document.getElementById('emailStatus');

            // Array de preguntas, opciones y respuestas correctas de los libros de Linda Seger
            const questionsData = [
                // Sección I: De "Creating Unforgettable Characters"
                { question: "Según Seger, ¿cuál es el primer paso para crear un personaje inolvidable?", options: ["Definir su apariencia física.", "Conocer su motivación interna y externa.", "Asignarle un trabajo específico.", "Escribir su diálogo."], correct: "Conocer su motivación interna y externa." },
                { question: "Linda Seger define la 'motivación interna' de un personaje como:", options: ["Su objetivo visible en la trama.", "Sus deseos y necesidades subconscientes.", "El conflicto con el antagonista.", "Su lugar de nacimiento."], correct: "Sus deseos y necesidades subconscientes." },
                { question: "¿Qué aspecto de la vida de un personaje se incluye en su 'dimensión sociológica'?", options: ["Su estatura y color de cabello.", "Sus miedos y deseos secretos.", "Su profesión, clase social y religión.", "Sus pensamientos más profundos."], correct: "Su profesión, clase social y religión." },
                { question: "La 'dimensión psicológica' de un personaje se refiere a:", options: ["Cómo se ve físicamente.", "Su historia de vida y traumas pasados.", "Su posición en la sociedad.", "Las relaciones que tiene con otros personajes."], correct: "Su historia de vida y traumas pasados." },
                { question: "Un 'personaje dinámico' es aquel que:", options: ["Tiene muchos diálogos.", "Experimenta un cambio o crecimiento significativo.", "Siempre se comporta de la misma manera.", "Tiene un final trágico."], correct: "Experimenta un cambio o crecimiento significativo." },
                { question: "¿Qué es un 'personaje estático'?", options: ["Un personaje que no tiene un arco de transformación.", "Un personaje que solo aparece en una escena.", "Un personaje que muere en la trama.", "Un personaje secundario."], correct: "Un personaje que no tiene un arco de transformación." },
                { question: "Seger argumenta que el conflicto de un personaje debe provenir de:", options: ["Sus interacciones con el entorno.", "Su motivación interna y su relación con el objetivo externo.", "Una fuerza sobrenatural.", "Las decisiones del director."], correct: "Su motivación interna y su relación con el objetivo externo." },
                { question: "¿Cuál es el propósito del 'subtexto' en los personajes?", options: ["Decir exactamente lo que piensan.", "Revelar su verdadera naturaleza y sentimientos a través de lo que no dicen.", "Crear ambigüedad intencionalmente.", "Hacer el diálogo más largo."], correct: "Revelar su verdadera naturaleza y sentimientos a través de lo que no dicen." },
                { question: "Seger, un personaje bien desarrollado a menudo tiene:", options: ["Un pasado oscuro sin explicación.", "Una historia de fondo que se revela gradualmente.", "No necesita de un pasado para ser convincente.", "Un único rasgo de personalidad."], correct: "Una historia de fondo que se revela gradualmente." },
                { question: "En 'Creating Unforgettable Characters', el concepto de 'oposición' se refiere a:", options: ["La lucha del protagonista contra su propio pasado.", "El conflicto entre el protagonista y el antagonista.", "El protagonista luchando contra la naturaleza.", "El protagonista y sus amigos peleando."], correct: "El conflicto entre el protagonista y el antagonista." },
                { question: "Para Seger, la 'moral' de un personaje se demuestra a través de:", options: ["Sus creencias religiosas.", "Su apariencia física.", "Las elecciones que toma cuando está bajo presión.", "Su profesión."], correct: "Las elecciones que toma cuando está bajo presión." },
                { question: "¿Cuál es la función del 'personaje secundario' en una historia?", options: ["No tienen ninguna función importante.", "Servir como espejo o contraste para el protagonista.", "Son solo relleno para las escenas.", "Siempre tienen que morir."], correct: "Servir como espejo o contraste para el protagonista." },
                { question: "Un 'personaje de apoyo' es diferente a un personaje secundario en que:", options: ["Es menos importante.", "Tiene un rol más directo en el desarrollo del protagonista.", "Siempre es un antagonista.", "No tiene un arco dramático."], correct: "Tiene un rol más directo en el desarrollo del protagonista." },
                { question: "Para Seger, un personaje convincente debe tener 'contradicciones'. ¿Qué significa esto?", options: ["Es un personaje que cambia de opinión a menudo.", "Tiene un objetivo interno que choca con un objetivo externo.", "Posee un rasgo de carácter que parece oponerse a otro.", "Siempre miente."], correct: "Posee un rasgo de carácter que parece oponerse a otro." },
                { question: "La 'voz del personaje' se refiere a:", options: ["El tono de su voz al hablar.", "Su patrón de diálogo único y distintivo.", "El monólogo interno del personaje.", "El dialecto que utiliza."], correct: "Su patrón de diálogo único y distintivo." },
                { question: "Según Linda Seger, una 'acción dramática' es:", options: ["Una pelea o explosión en la pantalla.", "Una acción que cambia el curso de la historia.", "Una acción que el personaje solo imagina.", "Cualquier cosa que el personaje haga."], correct: "Una acción que cambia el curso de la historia." },
                { question: "El 'viaje del personaje' de un héroe que comienza como cobarde y se vuelve valiente es un ejemplo de:", options: ["Un personaje estático.", "Un arco de transformación.", "Una motivación externa.", "Un personaje secundario."], correct: "Un arco de transformación." },
                { question: "¿Qué debe hacer el guionista para que el público sienta empatía por un personaje?", options: ["Hacerlo perfecto y sin defectos.", "Mostrar sus vulnerabilidades y humanidad.", "Hacerlo extremadamente rico.", "No revelar sus motivaciones."], correct: "Mostrar sus vulnerabilidades y humanidad." },
                { question: "Seger menciona la importancia de la 'función del personaje'. ¿Cuál es la función principal de un antagonista?", options: ["Ser el amigo del protagonista.", "Crear conflicto y obstaculizar el objetivo del protagonista.", "Resolver el problema principal de la historia.", "Introducir al protagonista a su mundo."], correct: "Crear conflicto y obstaculizar el objetivo del protagonista." },
                { question: "Para un personaje sea convincente, sus acciones deben ser una extensión de su:", options: ["Profesión.", "Diálogo.", "Personalidad y motivación.", "Apariencia física."], correct: "Personalidad y motivación." },
                { question: "¿Cómo puede un escritor revelar la 'moral' de un personaje?", options: ["Haciéndolo un predicador.", "Haciendo que hable sobre sus creencias.", "Mostrando cómo trata a los demás y las decisiones que toma.", "Describiendo su ropa."], correct: "Mostrando cómo trata a los demás y las decisiones que toma." },
                { question: "Linda Seger, un personaje inolvidable se distingue por:", options: ["Su falta de emociones.", "Su complejidad y profundidad.", "Su sencillez y simplicidad.", "Ser predecible."], correct: "Su complejidad y profundidad." },
                { question: "La 'historia de fondo' de un personaje debe servir para:", options: ["Llenar el guion con información innecesaria.", "Explicar su comportamiento actual y motivaciones.", "Hacerlo parecer misterioso.", "Confundir al público."], correct: "Explicar su comportamiento actual y motivaciones." },
                { question: "¿Cuál de los siguientes es un ejemplo de un 'personaje espejo'?", options: ["Un villano.", "Un personaje secundario que refleja una cualidad del protagonista.", "El protagonista mismo.", "El mentor."], correct: "Un personaje secundario que refleja una cualidad del protagonista." },
                { question: "En el contexto de 'Creating Unforgettable Characters', el concepto de 'hacer que el personaje trabaje para el tema' se refiere a:", options: ["El personaje debe ser un empleado de alguien.", "Las acciones y el arco del personaje deben ilustrar el tema de la historia.", "El personaje debe hablar sobre el tema de la historia.", "El personaje debe resolver un problema en el trabajo."], correct: "Las acciones y el arco del personaje deben ilustrar el tema de la historia." },
                { question: "La 'dimensión física' de un personaje incluye:", options: ["Sus miedos secretos.", "Su profesión.", "Su edad y apariencia.", "Sus creencias morales."], correct: "Su edad y apariencia." },
                { question: "¿Cuál de los siguientes es un ejemplo de 'motivación externa' para un personaje?", options: ["Quiere superar su miedo a las alturas.", "Quiere encontrar el amor verdadero.", "Quiere encontrar un tesoro escondido.", "Quiere ser más valiente."], correct: "Quiere encontrar un tesoro escondido." },
                { question: "Seger sugiere que un personaje debe tener 'una columna vertebral'. ¿A qué se refiere?", options: ["Una postura erguida.", "Una estructura de decisiones y principios que lo guían.", "Un rasgo físico distintivo.", "Un esqueleto metafórico."], correct: "Una estructura de decisiones y principios que lo guían." },
                { question: "Para crear un antagonista efectivo, Seger recomienda que:", options: ["Sea una persona puramente malvada.", "Tenga una motivación comprensible, incluso si es malvada.", "No tenga diálogo.", "Sea igual al protagonista."], correct: "Tenga una motivación comprensible, incluso si es malvada." },
                { question: "¿Cuál es la función del 'personaje mentor' en la historia?", options: ["Ser el villano principal.", "Ayudar al protagonista a alcanzar sus objetivos.", "Representar el fracaso.", "Ser un personaje estático."], correct: "Ayudar al protagonista a alcanzar sus objetivos." },
                { question: "La 'doble vida' de un personaje se refiere a:", options: ["Su vida secreta y su vida pública.", "Su vida física y su vida psicológica.", "Su vida antes y después de la historia.", "Su vida en el trabajo y su vida en casa."], correct: "Su vida secreta y su vida pública." },
                { question: "Seger, la 'revelación de información' sobre un personaje debe ocurrir:", options: ["Toda de una vez, al principio.", "Gradualmente a lo largo de la historia.", "Solo a través de flashbacks.", "Nunca."], correct: "Gradualmente a lo largo de la historia." },
                { question: "¿Qué significa 'darle al personaje un secreto'?", options: ["Hacer que el personaje sea un espía.", "Crear una capa de misterio y subtexto.", "El secreto debe ser el motor de la historia.", "El personaje debe esconder algo a los demás."], correct: "Crear una capa de misterio y subtexto." },
                { question: "Un personaje 'con un núcleo de bondad' es aquel que:", options: ["Siempre hace lo correcto.", "A pesar de sus defectos, tiene una cualidad redentora.", "Es un personaje secundario.", "Nunca comete errores."], correct: "A pesar de sus defectos, tiene una cualidad redentora." },
                { question: "¿Cuál es la diferencia entre un 'personaje protagónico' y un 'personaje principal'?", options: ["No hay diferencia.", "El protagonista es el centro de la acción, el principal puede no serlo.", "El principal es el que habla más.", "El protagónico siempre es un héroe."], correct: "El protagonista es el centro de la acción, el principal puede no serlo." },
                { question: "En el contexto de 'Creating Unforgettable Characters', el concepto de 'oposición' puede ser:", options: ["Solo un villano.", "Un villano, un grupo, la sociedad o la naturaleza.", "Solo un personaje secundario.", "El protagonista consigo mismo."], correct: "Un villano, un grupo, la sociedad o la naturaleza." },
                { question: "El 'deseo' de un personaje se relaciona con:", options: ["Su necesidad de ser feliz.", "Su objetivo interno y externo.", "Su apariencia física.", "Su nombre."], correct: "Su objetivo interno y externo." },
                { question: "¿Cuál es la clave para hacer que el 'arco del personaje' sea creíble?", options: ["Que el cambio sea repentino.", "Que el cambio sea lógico y justificado por los eventos.", "Que el personaje nunca cambie.", "Que el cambio solo sea físico."], correct: "Que el cambio sea lógico y justificado por los eventos." },
                { question: "Para Linda Seger, el 'antagonista' no tiene por qué ser malvado, puede ser:", options: ["Simplemente una persona con un objetivo opuesto al del héroe.", "Siempre un ser demoníaco.", "Un personaje que solo quiere ayudar.", "Un personaje estático."], correct: "Simplemente una persona con un objetivo opuesto al del héroe." },
                { question: "Un 'personaje de plantilla' es uno que:", options: ["Está muy bien desarrollado.", "Se basa en un arquetipo sin profundidad.", "Es único e impredecible.", "Siempre es un villano."], correct: "Se basa en un arquetipo sin profundidad." },
                { question: "Según Seger, ¿por qué es importante la 'coherencia' en un personaje?", options: ["Para que el público confíe en él.", "Para que no tenga contradicciones.", "Para que sea completamente predecible.", "Para que parezca estático."], correct: "Para que el público confíe en él." },
                { question: "La 'psicología de masas' en los personajes se refiere a:", options: ["Cómo un personaje se comporta en una multitud.", "La reacción del público hacia el personaje.", "Cómo el personaje puede ser un líder de masas.", "Las influencias sociales en su personalidad."], correct: "Las influencias sociales en su personalidad." },
                { question: "¿Qué es el 'efecto espejo' en el desarrollo de personajes?", options: ["Un personaje que refleja los defectos o virtudes del protagonista.", "Un personaje que siempre se ve en un espejo.", "Una técnica de edición.", "Un personaje que imita a otro."], correct: "Un personaje que refleja los defectos o virtudes del protagonista." },
                { question: "El 'problema interno' de un personaje se diferencia del externo en que:", options: ["El interno es un obstáculo mental o emocional, el externo es físico.", "El interno siempre se resuelve primero.", "El externo es siempre más importante.", "El interno no tiene que ser resuelto."], correct: "El interno es un obstáculo mental o emocional, el externo es físico." },
                { question: "La 'empatía' con un personaje se crea cuando el público:", options: ["Sabe todos sus secretos.", "Se identifica con sus luchas y emociones.", "Lo odia y quiere que fracase.", "No entiende sus motivaciones."], correct: "Se identifica con sus luchas y emociones." },
                { question: "¿Cuál es el riesgo de crear un 'personaje perfecto'?", options: ["Que el público se identifique con él.", "Que no tenga un conflicto interesante.", "Que sea demasiado complejo.", "Que el público lo considere un mentor."], correct: "Que no tenga un conflicto interesante." },
                { question: "Para Linda Seger, la 'acción y reacción' en un personaje significa que:", options: ["Debe ser impulsivo.", "Las acciones de un personaje deben provocar reacciones en los demás.", "El personaje debe reaccionar de forma predecible.", "El personaje no tiene control sobre su vida."], correct: "Las acciones de un personaje deben provocar reacciones en los demás." },
                { question: "El 'personaje espejo' se utiliza para:", options: ["Duplicar al protagonista.", "Resaltar el cambio o la falta de cambio del protagonista.", "Ser el antagonista.", "Ayudar al protagonista a resolver el conflicto externo."], correct: "Resaltar el cambio o la falta de cambio del protagonista." },
                { question: "Un 'personaje arquetípico' es una plantilla reconocida universalmente. ¿Cuál de los siguientes es un ejemplo de arquetipo?", options: ["Un hombre de negocios.", "La doncella en apuros.", "Un personaje secundario.", "Un detective."], correct: "La doncella en apuros." },
                { question: "¿Cuál es la diferencia entre la 'historia de fondo' y el 'arco' de un personaje?", options: ["La historia de fondo es el pasado, el arco es el cambio en la historia presente.", "La historia de fondo es la motivación externa, el arco es la interna.", "No hay diferencia.", "La historia de fondo es la que el personaje no conoce."], correct: "La historia de fondo es el pasado, el arco es el cambio en la historia presente." },
                { question: "Para Seger, la 'verdad del personaje' se revela a través de:", options: ["Lo que dice explícitamente.", "Sus acciones, no solo sus palabras.", "Las descripciones en las acotaciones.", "La música de la película."], correct: "Sus acciones, no solo sus palabras." },
                { question: "¿Cuál es la 'lógica del personaje' según Linda Seger?", options: ["El personaje siempre actúa de forma lógica.", "Las acciones del personaje deben ser coherentes con su personalidad y motivación.", "El personaje debe resolver acertijos.", "El personaje tiene un IQ alto."], correct: "Las acciones del personaje deben ser coherentes con su personalidad y motivación." },
                { question: "Un 'personaje sin un objetivo claro' es propenso a:", options: ["Ser muy interesante.", "Ser difícil de entender y seguir.", "Ser un gran protagonista.", "Ser el antagonista."], correct: "Ser difícil de entender y seguir." },
                { question: "Linda Seger sugiere que los personajes deben tener 'problemas internos y externos' para:", options: ["Hacer la historia más compleja.", "Crear un arco de personaje completo y tridimensional.", "Confundir al público.", "No tener un final feliz."], correct: "Crear un arco de personaje completo y tridimensional." },
                { question: "Un 'personaje redondo' es aquel que:", options: ["Tiene una personalidad simple.", "Es complejo, con múltiples facetas y contradicciones.", "Es predecible.", "No cambia."], correct: "Es complejo, con múltiples facetas y contradicciones." },
                { question: "¿Qué es un 'personaje plano'?", options: ["Un personaje que experimenta un gran cambio.", "Un personaje con una o dos características principales, sin mucha profundidad.", "El personaje principal.", "Un personaje que muere en la historia."], correct: "Un personaje con una o dos características principales, sin mucha profundidad." },
                { question: "Para hacer que un personaje sea 'memorable', Linda Seger aconseja:", options: ["Darle un superpoder.", "Que sus acciones y decisiones tengan un impacto emocional en el público.", "Que sea muy gracioso.", "Que use ropa extraña."], correct: "Que sus acciones y decisiones tengan un impacto emocional en el público." },
                { question: "El 'viaje interno' de un personaje se refiere a:", options: ["El cambio psicológico y emocional que experimenta.", "El viaje físico de un lugar a otro.", "Su búsqueda de un tesoro.", "El viaje en el tiempo."], correct: "El cambio psicológico y emocional que experimenta." },
                { question: "Según Seger, el 'antagonista' es a menudo el:", options: ["Personaje más aburrido.", "Personaje menos importante.", "Héroe de su propia historia.", "Personaje que siempre hace lo correcto."], correct: "Héroe de su propia historia." },
                { question: "¿Qué consejo da Linda Seger sobre la 'historia de fondo'?", options: ["Debe contarse toda de una vez en un flashback.", "Debe ser compleja e inexplicable.", "Debe ser útil y estar integrada en la trama.", "Es opcional."], correct: "Debe ser útil y estar integrada en la trama." },
                { question: "Para hacer que un personaje sea 'interesante', Seger sugiere:", options: ["Darle un trabajo aburrido.", "Hacerlo predecible.", "Crear un contraste entre lo que dice y lo que hace.", "Hacerlo mudo."], correct: "Crear un contraste entre lo que dice y lo que hace." },
                { question: "¿Cuál es una de las funciones principales de los 'personajes secundarios' en la historia?", options: ["No tienen una función.", "Aumentar el realismo y el conflicto para el protagonista.", "Ser personajes de plantilla.", "Estar al servicio del antagonista."], correct: "Aumentar el realismo y el conflicto para el protagonista." },
                { question: "El 'viaje del personaje' de un antagonista puede ser:", options: ["Solo hacia el mal.", "Un camino hacia la redención.", "Un viaje estático.", "Un viaje al pasado."], correct: "Un camino hacia la redención." },
                { question: "¿Qué se considera una 'caracterización superficial'?", options: ["Un personaje con un pasado complejo.", "Un personaje definido solo por su profesión o apariencia.", "Un personaje con motivaciones profundas.", "Un personaje con un arco de transformación."], correct: "Un personaje definido solo por su profesión o apariencia." },
                { question: "El 'desarrollo de un personaje' no se limita a su crecimiento, también puede ser:", options: ["Su decadencia moral.", "El número de escenas en las que aparece.", "Su capacidad para resolver problemas.", "Su edad."], correct: "Su decadencia moral." },
                { question: "Un 'personaje multidimensional' es aquel que tiene:", options: ["Solo una meta.", "Varias capas de personalidad, motivaciones y contradicciones.", "Pocos diálogos.", "Solo aparece en el primer acto."], correct: "Varias capas de personalidad, motivaciones y contradicciones." },
                { question: "¿Qué es la 'lucha interna' de un personaje?", options: ["Una pelea con otro personaje.", "Un conflicto con el antagonista.", "Una lucha entre sus deseos y su moral.", "Una lucha por sobrevivir."], correct: "Una lucha entre sus deseos y su moral." },
                { question: "Linda Seger sugiere que los personajes deben tener 'problemas internos y externos' para:", options: ["Hacer la historia más compleja.", "Crear un arco de personaje completo y tridimensional.", "Confundir al público.", "No tener un final feliz."], correct: "Crear un arco de personaje completo y tridimensional." },
                { question: "Un 'personaje redondo' es aquel que:", options: ["Tiene una personalidad simple.", "Es complejo, con múltiples facetas y contradicciones.", "Es predecible.", "No cambia."], correct: "Es complejo, con múltiples facetas y contradicciones." },
                { question: "¿Qué es un 'personaje plano'?", options: ["Un personaje que experimenta un gran cambio.", "Un personaje con una o dos características principales, sin mucha profundidad.", "El personaje principal.", "Un personaje que muere en la historia."], correct: "Un personaje con una o dos características principales, sin mucha profundidad." },
                { question: "Para hacer que un personaje sea 'memorable', Linda Seger aconseja:", options: ["Darle un superpoder.", "Que sus acciones y decisiones tengan un impacto emocional en el público.", "Que sea muy gracioso.", "Que use ropa extraña."], correct: "Que sus acciones y decisiones tengan un impacto emocional en el público." },
                { question: "El 'viaje interno' de un personaje se refiere a:", options: ["El cambio psicológico y emocional que experimenta.", "El viaje físico de un lugar a otro.", "Su búsqueda de un tesoro.", "El viaje en el tiempo."], correct: "El cambio psicológico y emocional que experimenta." },
                { question: "Según Seger, el 'antagonista' es a menudo el:", options: ["Personaje más aburrido.", "Personaje menos importante.", "Héroe de su propia historia.", "Personaje que siempre hace lo correcto."], correct: "Héroe de su propia historia." },
                { question: "¿Qué consejo da Linda Seger sobre la 'historia de fondo'?", options: ["Debe contarse toda de una vez en un flashback.", "Debe ser compleja e inexplicable.", "Debe ser útil y estar integrada en la trama.", "Es opcional."], correct: "Debe ser útil y estar integrada en la trama." },
                { question: "Para hacer que un personaje sea 'interesante', Seger sugiere:", options: ["Darle un trabajo aburrido.", "Hacerlo predecible.", "Crear un contraste entre lo que dice y lo que hace.", "Hacerlo mudo."], correct: "Crear un contraste entre lo que dice y lo que hace." },
                { question: "¿Cuál es una de las funciones principales de los 'personajes secundarios' en la historia?", options: ["No tienen una función.", "Aumentar el realismo y el conflicto para el protagonista.", "Ser personajes de plantilla.", "Estar al servicio del antagonista."], correct: "Aumentar el realismo y el conflicto para el protagonista." },
                { question: "El 'viaje del personaje' de un antagonista puede ser:", options: ["Solo hacia el mal.", "Un camino hacia la redención.", "Un viaje estático.", "Un viaje al pasado."], correct: "Un camino hacia la redención." },
                { question: "¿Qué se considera una 'caracterización superficial'?", options: ["Un personaje con un pasado complejo.", "Un personaje definido solo por su profesión o apariencia.", "Un personaje con motivaciones profundas.", "Un personaje con un arco de transformación."], correct: "Un personaje definido solo por su profesión o apariencia." },
                { question: "El 'desarrollo de un personaje' no se limita a su crecimiento, también puede ser:", options: ["Su decadencia moral.", "El número de escenas en las que aparece.", "Su capacidad para resolver problemas.", "Su edad."], correct: "Su decadencia moral." },
                { question: "Un 'personaje multidimensional' es aquel que tiene:", options: ["Solo una meta.", "Varias capas de personalidad, motivaciones y contradicciones.", "Pocos diálogos.", "Solo aparece en el primer acto."], correct: "Varias capas de personalidad, motivaciones y contradicciones." },
                { question: "¿Qué es la 'lucha interna' de un personaje?", options: ["Una pelea con otro personaje.", "Un conflicto con el antagonista.", "Una lucha entre sus deseos y su moral.", "Una lucha por sobrevivir."], correct: "Una lucha entre sus deseos y su moral." },
                { question: "Linda Seger sugiere que los personajes deben tener 'problemas internos y externos' para:", options: ["Hacer la historia más compleja.", "Crear un arco de personaje completo y tridimensional.", "Confundir al público.", "No tener un final feliz."], correct: "Crear un arco de personaje completo y tridimensional." },
                { question: "Un 'personaje redondo' es aquel que:", options: ["Tiene una personalidad simple.", "Es complejo, con múltiples facetas y contradicciones.", "Es predecible.", "No cambia."], correct: "Es complejo, con múltiples facetas y contradicciones." },
                { question: "¿Qué es un 'personaje plano'?", options: ["Un personaje que experimenta un gran cambio.", "Un personaje con una o dos características principales, sin mucha profundidad.", "El personaje principal.", "Un personaje que muere en la historia."], correct: "Un personaje con una o dos características principales, sin mucha profundidad." },
                { question: "Para hacer que un personaje sea 'memorable', Linda Seger aconseja:", options: ["Darle un superpoder.", "Que sus acciones y decisiones tengan un impacto emocional en el público.", "Que sea muy gracioso.", "Que use ropa extraña."], correct: "Que sus acciones y decisiones tengan un impacto emocional en el público." },
                { question: "El 'viaje interno' de un personaje se refiere a:", options: ["El cambio psicológico y emocional que experimenta.", "El viaje físico de un lugar a otro.", "Su búsqueda de un tesoro.", "El viaje en el tiempo."], correct: "El cambio psicológico y emocional que experimenta." },
                { question: "Según Seger, el 'antagonista' es a menudo el:", options: ["Personaje más aburrido.", "Personaje menos importante.", "Héroe de su propia historia.", "Personaje que siempre hace lo correcto."], correct: "Héroe de su propia historia." },
                { question: "¿Qué consejo da Linda Seger sobre la 'historia de fondo'?", options: ["Debe contarse toda de una vez en un flashback.", "Debe ser compleja e inexplicable.", "Debe ser útil y estar integrada en la trama.", "Es opcional."], correct: "Debe ser útil y estar integrada en la trama." },
                { question: "Para hacer que un personaje sea 'interesante', Seger sugiere:", options: ["Darle un trabajo aburrido.", "Hacerlo predecible.", "Crear un contraste entre lo que dice y lo que hace.", "Hacerlo mudo."], correct: "Crear un contraste entre lo que dice y lo que hace." },
                { question: "¿Cuál es una de las funciones principales de los 'personajes secundarios' en la historia?", options: ["No tienen una función.", "Aumentar el realismo y el conflicto para el protagonista.", "Ser personajes de plantilla.", "Estar al servicio del antagonista."], correct: "Aumentar el realismo y el conflicto para el protagonista." },
                { question: "El 'viaje del personaje' de un antagonista puede ser:", options: ["Solo hacia el mal.", "Un camino hacia la redención.", "Un viaje estático.", "Un viaje al pasado."], correct: "Un camino hacia la redención." },
                { question: "¿Qué se considera una 'caracterización superficial'?", options: ["Un personaje con un pasado complejo.", "Un personaje definido solo por su profesión o apariencia.", "Un personaje con motivaciones profundas.", "Un personaje con un arco de transformación."], correct: "Un personaje definido solo por su profesión o apariencia." },
                { question: "El 'desarrollo de un personaje' no se limita a su crecimiento, también puede ser:", options: ["Su decadencia moral.", "El número de escenas en las que aparece.", "Su capacidad para resolver problemas.", "Su edad."], correct: "Su decadencia moral." },
                { question: "Un 'personaje multidimensional' es aquel que tiene:", options: ["Solo una meta.", "Varias capas de personalidad, motivaciones y contradicciones.", "Pocos diálogos.", "Solo aparece en el primer acto."], correct: "Varias capas de personalidad, motivaciones y contradicciones." },
                { question: "¿Qué es la 'lucha interna' de un personaje?", options: ["Una pelea con otro personaje.", "Un conflicto con el antagonista.", "Una lucha entre sus deseos y su moral.", "Una lucha por sobrevivir."], correct: "Una lucha entre sus deseos y su moral." }
            ];

            const MAX_QUESTIONS = 100; // Define el número máximo de preguntas

            // Shuffle the questions array to randomize them
            function shuffleArray(array) {
                for (let i = array.length - 1; i > 0; i--) {
                    const j = Math.floor(Math.random() * (i + 1));
                    [array[i], array[j]] = [array[j], array[i]];
                }
            }

            shuffleArray(questionsData); // Randomize the questions

            // Take only the first MAX_QUESTIONS
            const selectedQuestions = questionsData.slice(0, MAX_QUESTIONS);

            // Function to render questions
            function renderQuestions() {
                selectedQuestions.forEach((q, index) => {
                    const questionDiv = document.createElement('div');
                    questionDiv.classList.add('bg-white', 'p-6', 'rounded-lg', 'shadow-md', 'border', 'border-gray-200');

                    const questionTitle = document.createElement('h3');
                    questionTitle.classList.add('text-xl', 'font-semibold', 'text-orange-800', 'mb-4');
                    questionTitle.textContent = `Pregunta ${index + 1}: ${q.question}`;
                    questionDiv.appendChild(questionTitle);

                    q.options.forEach(option => {
                        const optionDiv = document.createElement('div');
                        optionDiv.classList.add('mb-3', 'flex', 'items-center');

                        const input = document.createElement('input');
                        input.type = 'radio';
                        input.name = `question_${index}`;
                        input.value = option;
                        input.id = `q${index}_${option.replace(/\s+/g, '_')}`; // Generate unique ID
                        input.classList.add('mr-3', 'form-radio', 'h-4', 'w-4', 'text-orange-600');
                        optionDiv.appendChild(input);

                        const label = document.createElement('label');
                        label.htmlFor = `q${index}_${option.replace(/\s+/g, '_')}`;
                        label.classList.add('text-gray-700', 'cursor-pointer');
                        label.textContent = option;
                        optionDiv.appendChild(label);

                        questionDiv.appendChild(optionDiv);
                    });

                    questionsContainer.appendChild(questionDiv);
                });
            }

            // Function to calculate score and display results
            function showResults() {
                let correctAnswers = 0;
                const studentName = document.getElementById('studentName').value;
                const institutionalEmail = document.getElementById('institutionalEmail').value;
                const courseSubject = document.getElementById('courseSubject').value;

                // Hide the exam form and show results container
                examForm.classList.add('hidden');
                resultsContainer.classList.remove('hidden');

                // Check if all questions were answered
                let allAnswered = true;
                selectedQuestions.forEach((q, index) => {
                    const selectedOption = document.querySelector(`input[name='question_${index}']:checked`);
                    if (selectedOption) {
                        if (selectedOption.value === q.correct) {
                            correctAnswers++;
                        }
                    } else {
                        allAnswered = false;
                    }
                });

                const totalQuestions = selectedQuestions.length;
                const percentage = (correctAnswers / totalQuestions) * 100;

                scoreMessage.textContent = `Tu puntuación: ${correctAnswers} de ${totalQuestions} (${percentage.toFixed(2)}%)`;

                // Simulate sending email and display status
                if (studentName && institutionalEmail && courseSubject) {
                    confirmEmail.textContent = institutionalEmail;
                    confirmationModal.classList.remove('hidden');
                    emailStatus.textContent = `Se ha enviado una copia de tus resultados a ${institutionalEmail}.`;
                } else {
                    emailStatus.textContent = "Por favor, completa tu información para recibir la confirmación por correo.";
                }
            }

            // Event listener for form submission
            submitBtn.addEventListener('click', (e) => {
                e.preventDefault(); // Prevent default form submission

                // Validate student info form first
                if (!infoForm.checkValidity()) {
                    infoError.classList.remove('hidden');
                    // Scroll to the info form to show the error
                    infoForm.scrollIntoView({ behavior: 'smooth', block: 'start' });
                    return; // Stop here if info form is invalid
                } else {
                    infoError.classList.add('hidden'); // Hide error if valid
                }

                // Check if all questions are answered before showing results
                let allQuestionsAnswered = true;
                for (let i = 0; i < selectedQuestions.length; i++) {
                    const selectedOption = document.querySelector(`input[name='question_${i}']:checked`);
                    if (!selectedOption) {
                        allQuestionsAnswered = false;
                        break;
                    }
                }

                if (allQuestionsAnswered) {
                    showResults();
                } else {
                    alert('Por favor, responde todas las preguntas antes de enviar.');
                    // Scroll to the questions container to show the prompt
                    examForm.scrollIntoView({ behavior: 'smooth', block: 'start' });
                }
            });

            // Event listener to close the confirmation modal
            closeModalBtn.addEventListener('click', () => {
                confirmationModal.classList.add('hidden');
            });

            // Render questions when the page loads
            renderQuestions();
        });
    </script>
</body>
</html>
